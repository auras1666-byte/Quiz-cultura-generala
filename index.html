<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geniu Quiz ðŸ’¡</title>
    <style>
        body { font-family: sans-serif; background-color: #0f172a; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        #quiz-card { background-color: #1e293b; padding: 2rem; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); width: 90%; max-width: 400px; text-align: center; }
        h1 { color: #38bdf8; margin-bottom: 10px; font-size: 1.5rem; }
        #timer-container { width: 100%; background: #334155; height: 10px; border-radius: 5px; margin-bottom: 20px; overflow: hidden; display: none; }
        #timer-bar { width: 100%; background: #fbbf24; height: 100%; }
        #question-text { font-size: 1.1rem; margin-bottom: 20px; min-height: 60px; }
        .options-grid { display: grid; gap: 10px; }
        .option-btn { background-color: #334155; color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-size: 1rem; }
        .correct { background-color: #22c55e !important; }
        .wrong { background-color: #ef4444 !important; }
        .start-btn { background-color: #38bdf8; color: #0f172a; border: none; padding: 15px; border-radius: 10px; font-size: 1.2rem; font-weight: bold; width: 100%; cursor: pointer; }
    </style>
</head>
<body>

<div id="quiz-card">
    <h1>Geniu Quiz ðŸ’¡</h1>
    
    <div id="start-screen">
        <p>EÈ™ti gata sÄƒ Ã®È›i testezi mintea?</p>
        <button class="start-btn" onclick="incepeJocul()">START JOC</button>
    </div>

    <div id="game-screen" style="display: none;">
        <div id="timer-container"><div id="timer-bar"></div></div>
        <div id="question-text"></div>
        <div class="options-grid" id="options-container"></div>
        <div style="margin-top:20px; color:#94a3b8; font-size:0.8rem;">
            Scor: <span id="current-score">0</span> | <span id="q-count">1</span>/15
        </div>
    </div>
</div>

<script>
    const toateIntrebarile = [
        { q: "Care este capitala Italiei?", a: ["Milano", "Venetia", "Roma", "Napoli"], c: 2 },
        { q: "CÃ¢te zile are un an bisect?", a: ["364", "365", "366", "367"], c: 2 },
        { q: "Ce personaj Disney are nasul care creÈ™te?", a: ["Mickey", "Pinocchio", "Aladdin", "Simba"], c: 1 },
        { q: "Cea mai vorbitÄƒ limbÄƒ din lume?", a: ["Engleza", "Chineza", "Spaniola", "Hindi"], c: 0 },
        { q: "CÃ¢te corzi are o vioarÄƒ?", a: ["3", "4", "5", "6"], c: 1 },
        { q: "Care este cel mai lung fluviu din Europa?", a: ["DunÄƒrea", "Volga", "Rin", "Nil"], c: 1 },
        { q: "CÃ¢te inimi are o caracatiÈ›Äƒ?", a: ["1", "2", "3", "4"], c: 2 },
        { q: "CÃ¢te continente Ã®ncep cu litera A?", a: ["3", "4", "5", "2"], c: 1 },
        { q: "Care este capitala Japoniei?", a: ["Seul", "Beijing", "Tokyo", "Bangkok"], c: 2 },
        { q: "CÃ¢te culori are steagul RomÃ¢niei?", a: ["2", "3", "4", "1"], c: 1 },
        { q: "Care este simbolul chimic al aurului?", a: ["Ag", "Fe", "Au", "Pb"], c: 2 },
        { q: "Cine a scris 'Amintiri din copilÄƒrie'?", a: ["Mihai Eminescu", "Ion CreangÄƒ", "Ioan Slavici", "Liviu Rebreanu"], c: 1 },
        { q: "Care este cel mai cald continent?", a: ["Asia", "Africa", "Australia", "America de Sud"], c: 1 },
        { q: "CÃ¢te laturi are un hexagon?", a: ["5", "6", "7", "8"], c: 1 },
        { q: "Care este moneda Ã®n Japonia?", a: ["Dolar", "Euro", "Yen", "Yuan"], c: 2 }
    ];

    let selectate = [];
    let index = 0;
    let scor = 0;
    let timer;

    function incepeJocul() {
        console.log("Jocul a pornit!"); // Verificare in consola
        document.getElementById("start-screen").style.display = "none";
        document.getElementById("game-screen").style.display = "block";
        document.getElementById("timer-container").style.display = "block";
        
        selectate = toateIntrebarile.sort(() => Math.random() - 0.5).slice(0, 15);
        index = 0;
        scor = 0;
        afiseaza();
    }

    function afiseaza() {
        const item = selectate[index];
        document.getElementById("q-count").innerText = index + 1;
        document.getElementById("current-score").innerText = scor;
        document.getElementById("question-text").innerText = item.q;
        
        const container = document.getElementById("options-container");
        container.innerHTML = "";

        item.a.forEach((raspuns, i) => {
            const btn = document.createElement("button");
            btn.innerText = raspuns;
            btn.className = "option-btn";
            btn.onclick = function() { verifica(i, btn); };
            container.appendChild(btn);
        });
        
        startTimer();
    }

    function startTimer() {
        let r = 100;
        const bar = document.getElementById("timer-bar");
        clearInterval(timer);
        timer = setInterval(() => {
            r -= 1;
            bar.style.width = r + "%";
            if (r <= 0) { clearInterval(timer); verifica(-1, null); }
        }, 100);
    }

    function verifica(iApasat, btn) {
        clearInterval(timer);
        const corect = selectate[index].c;
        const butoane = document.getElementsByClassName("option-btn");
        
        for(let b of butoane) b.disabled = true;

        if (iApasat === corect) {
            if(btn) btn.classList.add("correct");
            scor++;
        } else {
            if (btn) btn.classList.add("wrong");
            butoane[corect].classList.add("correct");
        }

        setTimeout(() => {
            index++;
            if (index < selectate.length) afiseaza();
            else {
                alert("Final! Scor: " + scor + "/15");
                location.reload();
            }
        }, 1200);
    }
</script>
</body>
</html>
